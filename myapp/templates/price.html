<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Crypto Prices</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #0d1117;
      color: #e6edf3;
      margin: 0;
      padding: 0;
    }
    header {
      background: #161b22;
      padding: 15px;
      text-align: center;
    }
    .container {
      width: 80%;
      margin: 20px auto;
    }
    .price-card {
      background: #161b22;
      padding: 15px;
      border-radius: 10px;
      margin-bottom: 15px;
    }
    h2 {
      color: #58a6ff;
    }
  </style>
</head>
<body>
  <header>
    <h1>Real-Time Crypto Prices</h1>
  </header>

  <div class="container">
    <div class="price-card">
      <h2>Bitcoin (BTCUSDT)</h2>
      <p id="btc-price">Loading...</p>
    </div>
    <div class="price-card">
      <h2>Ethereum (ETHUSDT)</h2>
      <p id="eth-price">Loading...</p>
    </div>
  </div>

  <script>
    async function loadPrice(symbol, elementId) {
      const res = await fetch(`/api/price/${symbol}/`);
      const data = await res.json();
      document.getElementById(elementId).textContent = "$" + parseFloat(data.price).toFixed(2);
    }

    function refreshPrices() {
      loadPrice("BTCUSDT", "btc-price");
      loadPrice("ETHUSDT", "eth-price");
    }

    refreshPrices();
    setInterval(refreshPrices, 5000); // refresh every 5 sec
  </script>
</body>
</html>
